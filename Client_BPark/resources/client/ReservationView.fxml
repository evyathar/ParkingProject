<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background-color: transparent;" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.SubscriberController">
    
    <VBox maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="690.0" prefWidth="765.0" spacing="10.0" style="-fx-background-color: linear-gradient(to bottom right, #F5F7FA, #E9ECEF); -fx-padding: 30;">

        <!-- Quick Tips Card -->
        <VBox minHeight="-Infinity" minWidth="-Infinity" prefHeight="113.0" prefWidth="703.0" spacing="10.0" style="-fx-background-color: white; -fx-background-radius: 20; -fx-padding: 25;">
            <effect>
                <DropShadow color="#0000001A" offsetY="5" radius="20" spread="0.1" />
            </effect>
            
            <HBox alignment="CENTER_LEFT" spacing="12">
                <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to bottom right, #9F7AEA, #805AD5); -fx-background-radius: 10; -fx-padding: 10;">
                    <Label style="-fx-font-size: 20px; -fx-text-fill: white;" text="💡" />
                </HBox>
                <Label style="-fx-text-fill: #2D3748; -fx-font-size: 18px; -fx-font-weight: bold;" text="Reservation Tips" />
               
               <VBox spacing="8">
                   <Label style="-fx-text-fill: #4A5568; -fx-font-size: 13px;" text="🎯 Book during off-peak hours for guaranteed availability" />
                   <Label style="-fx-text-fill: #4A5568; -fx-font-size: 13px;" text="📱 Save your reservation code - you'll need it for parking entry" />
                   <Label style="-fx-text-fill: #4A5568; -fx-font-size: 13px;" text="⏰ Arrive within 30 minutes of your reservation time" />
                   <Label style="-fx-text-fill: #4A5568; -fx-font-size: 13px;" text="💳 Cancellations are free up to 1 hour before" />
               </VBox>
            <padding>
               <Insets top="-20.0" />
            </padding>
            </HBox>
         <VBox.margin>
            <Insets top="-20.0" />
         </VBox.margin>
        </VBox>
        
        <!-- Make Reservation Card -->
        <VBox maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="297.0" prefWidth="703.0" spacing="5.0" style="-fx-background-color: white; -fx-background-radius: 20; -fx-padding: 30;">
            <effect>
                <DropShadow color="#0000001A" offsetY="5" radius="20" spread="0.1" />
            </effect>
            
            <HBox alignment="CENTER_LEFT" spacing="12">
                <HBox alignment="CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="31.0" prefWidth="37.0" style="-fx-background-color: linear-gradient(to bottom right, #4CAF50, #45A049); -fx-background-radius: 10; -fx-padding: 10;">
                    <Label prefHeight="17.0" prefWidth="25.0" style="-fx-font-size: 15; -fx-text-fill: white;" text="📅" />
                </HBox>
                <Label style="-fx-text-fill: #2D3748; -fx-font-size: 22px; -fx-font-weight: bold;" text="Make New Reservation" />
            <VBox.margin>
               <Insets top="-20.0" />
            </VBox.margin>
            </HBox>
            
            <Separator style="-fx-background-color: linear-gradient(to right, transparent, #E2E8F0, transparent);" />
            
            <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px;" text="Select your preferred date and time for parking reservation" />
            
            <HBox spacing="30">
                <VBox spacing="8">
                    <HBox spacing="5">
                        <Label style="-fx-font-size: 16px;" text="📅" />
                        <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px; -fx-font-weight: bold;" text="Date" />
                    </HBox>
                    <DatePicker fx:id="datePickerReservation" prefWidth="250" style="-fx-background-color: #F7FAFC; -fx-background-radius: 10; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1; -fx-padding: 8;" />
                </VBox>
                
                <VBox spacing="8">
                    <HBox spacing="5">
                        <Label style="-fx-font-size: 16px;" text="🕐" />
                        <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px; -fx-font-weight: bold;" text="Time Slot" />
                    </HBox>
                    <ComboBox fx:id="comboTimeSlot" prefWidth="250" promptText="Select time" style="-fx-background-color: #F7FAFC; -fx-background-radius: 10; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1; -fx-padding: 8;" />
                </VBox>
            </HBox>
         <HBox prefHeight="100.0" prefWidth="200.0">
            <children>
                  
                  <!-- Info Box -->
                  <VBox minHeight="-Infinity" minWidth="-Infinity" spacing="8" style="-fx-background-color: #F0FDF4; -fx-background-radius: 12; -fx-padding: 15; -fx-border-color: #4CAF50; -fx-border-radius: 12; -fx-border-width: 1;">
                      <HBox spacing="8">
                          <Label style="-fx-font-size: 14px;" />
                          <Label style="-fx-font-weight: bold; -fx-text-fill: #166534;" text="Important Information" />
                      </HBox>
                      <Label style="-fx-text-fill: #4A5568; -fx-font-size: 12px;" text="• Reservations must be made 24 hours to 7 days in advance" wrapText="true" />
                      <Label style="-fx-text-fill: #4A5568; -fx-font-size: 12px;" text="• Reservation requires at least 40% available spots" wrapText="true" />
                      <Label style="-fx-text-fill: #4A5568; -fx-font-size: 12px;" text="• You will receive a confirmation code upon successful reservation" wrapText="true" />
                  </VBox>
                  
                  <Button onAction="#handleMakeReservation" style="-fx-background-color: linear-gradient(to right, #4CAF50, #45A049); -fx-background-radius: 25; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-padding: 12 30 12 30; -fx-cursor: hand;" text="✅ Make Reservation">
                      <effect>
                          <DropShadow color="#4CAF5040" offsetY="3" radius="12" spread="0.3" />
                      </effect>
                  <HBox.margin>
                     <Insets left="20.0" top="38.0" />
                  </HBox.margin>
                  </Button>
            </children>
         </HBox>
        </VBox>

        <!-- Cancel Reservation Card -->
        <VBox maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="247.0" prefWidth="700.0" spacing="5.0" style="-fx-background-color: white; -fx-background-radius: 20; -fx-padding: 30;">
            <effect>
                <DropShadow color="#0000001A" offsetY="5" radius="20" spread="0.1" />
            </effect>
            
            <HBox alignment="CENTER_LEFT" spacing="12">
                <HBox alignment="CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="26.0" prefWidth="35.0" style="-fx-background-color: linear-gradient(to bottom right, #F56565, #E53E3E); -fx-background-radius: 10; -fx-padding: 10;">
                    <Label style="-fx-font-size: 15; -fx-text-fill: white;" text="❌" />
                </HBox>
                <Label style="-fx-text-fill: #2D3748; -fx-font-size: 22px; -fx-font-weight: bold;" text="Cancel Existing Reservation" />
            <padding>
               <Insets top="-20.0" />
            </padding>
            </HBox>
            
            <Separator style="-fx-background-color: linear-gradient(to right, transparent, #E2E8F0, transparent);" />
            
            <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px;" text="Enter your reservation code to cancel an existing reservation" />
            
            <HBox alignment="CENTER_LEFT" spacing="20">
                <VBox spacing="8">
                    <HBox spacing="10.0">
                        <Label style="-fx-font-size: 16px;" text="🔑">
                     <HBox.margin>
                        <Insets top="10.0" />
                     </HBox.margin></Label>
                        <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px; -fx-font-weight: bold;" text="Reservation Code">
                     <HBox.margin>
                        <Insets top="10.0" />
                     </HBox.margin></Label>
                       <TextField fx:id="txtCancelCode" prefWidth="350" promptText="Enter your reservation code..." style="-fx-background-color: #F7FAFC; -fx-background-radius: 10; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1; -fx-padding: 10 15 10 15; -fx-font-size: 14px; -fx-text-fill: #2D3748;" />
                    </HBox>
                </VBox>
                
                <VBox alignment="BOTTOM_LEFT" />
            </HBox>
         <HBox prefHeight="100.0" prefWidth="200.0">
            <children>
                  
                  <!-- Warning Box -->
                  <VBox maxHeight="-Infinity" maxWidth="-Infinity" minWidth="-Infinity" prefHeight="102.0" prefWidth="336.0" spacing="8" style="-fx-background-color: #FEF2F2; -fx-background-radius: 12; -fx-padding: 15; -fx-border-color: #FEE2E2; -fx-border-radius: 12; -fx-border-width: 1;">
                      <HBox spacing="8">
                          <Label style="-fx-font-size: 14px;" text="⚠" />
                          <Label style="-fx-font-weight: bold; -fx-text-fill: #991B1B;" text="Cancellation Policy" />
                      </HBox>
                      <Label style="-fx-text-fill: #4A5568; -fx-font-size: 12px;" text="• Free cancellation up to 1 hour before reservation time" wrapText="true" />
                      <Label style="-fx-text-fill: #4A5568; -fx-font-size: 12px;" text="• Late cancellations may incur charges" wrapText="true" />
                  </VBox>
                    <Button onAction="#handleCancelReservationFromPage" style="-fx-background-color: linear-gradient(to right, #F56565, #E53E3E); -fx-background-radius: 25; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-padding: 12 30 12 30; -fx-cursor: hand;" text="❌ Cancel Reservation">
                        <effect>
                            <DropShadow color="#F5656540" offsetY="3" radius="12" spread="0.3" />
                        </effect>
                  <HBox.margin>
                     <Insets left="25.0" top="30.0" />
                  </HBox.margin>
                    </Button>
            </children>
         </HBox>
        </VBox>

    </VBox>
</ScrollPane>
