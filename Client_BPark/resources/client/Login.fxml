<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox alignment="CENTER" minHeight="-Infinity" minWidth="-Infinity" prefHeight="661.0" prefWidth="455.0" spacing="20" style="-fx-background-color: linear-gradient(to bottom right, #F5F7FA, #E9ECEF);" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.LoginController">
   
   <padding>
      <Insets bottom="30.0" left="35.0" right="35.0" top="30.0" />
   </padding>
   <ImageView fitHeight="52.0" fitWidth="403.0">
      <image>
         <Image url="@../images/bpark.png" />
      </image>
   </ImageView>
   
   <!-- Login Form Card -->
   <VBox maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="328.0" prefWidth="370.0" spacing="8.0" style="-fx-background-color: white; -fx-background-radius: 20; -fx-padding: 30;">
      <effect>
         <DropShadow color="#0000001A" offsetY="5" radius="20" spread="0.1" />
      </effect>
      
      <!-- Card Header -->
      <VBox alignment="CENTER" spacing="10">
         <HBox alignment="CENTER" spacing="10">
            <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to bottom right, #3B5CAD, #4A69BD); -fx-background-radius: 10; -fx-padding: 10;">
               <Label style="-fx-font-size: 20px; -fx-text-fill: white;" text="🔐" />
            </HBox>
            <Label style="-fx-text-fill: #2D3748; -fx-font-size: 20px; -fx-font-weight: bold;" text="Login to Your Account" />
         </HBox>
         
         <Separator style="-fx-background-color: linear-gradient(to right, transparent, #E2E8F0, transparent);" />
      </VBox>
      
      <!-- Form Fields -->
      <VBox spacing="15">
         <!-- Username Field -->
         <VBox spacing="6">
            <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px; -fx-font-weight: bold;" text="Username" />
            <HBox alignment="CENTER_LEFT" spacing="10">
               <Label style="-fx-font-size: 16px; -fx-text-fill: #718096;" text="👤" />
               <TextField fx:id="txtUsername" promptText="Enter your username" style="-fx-background-color: #F7FAFC; -fx-background-radius: 10; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1; -fx-padding: 10 15 10 15; -fx-font-size: 14px; -fx-text-fill: #2D3748;" HBox.hgrow="ALWAYS" />
            </HBox>
         </VBox>
         
         <!-- UserCode Field -->
         <VBox spacing="6">
            <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px; -fx-font-weight: bold;" text="UserCode" />
            <HBox alignment="CENTER_LEFT" spacing="10">
               <Label style="-fx-font-size: 16px; -fx-text-fill: #718096;" text="🔑" />
               <TextField fx:id="txtUsercode" promptText="Enter User Code" style="-fx-background-color: #F7FAFC; -fx-background-radius: 10; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1; -fx-padding: 10 15 10 15; -fx-font-size: 14px; -fx-text-fill: #2D3748;" HBox.hgrow="ALWAYS" />
            </HBox>
         </VBox>
         
         <!-- Server Connection -->
         <VBox spacing="6">
            <HBox alignment="CENTER_LEFT" spacing="10" />
         </VBox>
      </VBox>
      
      <!-- Login Button -->
      <Button fx:id="btnLogin" onAction="#handleLogin" prefHeight="45" prefWidth="320" style="-fx-background-color: linear-gradient(to right, #4CAF50, #45A049); -fx-background-radius: 25; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-cursor: hand;" text="Login">
         <effect>
            <DropShadow color="#4CAF5040" offsetY="3" radius="15" spread="0.3" />
         </effect>
      </Button>
   </VBox>
   
         <!-- Status Label -->
   <HBox alignment="CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="20" minWidth="-Infinity" prefHeight="60.0" prefWidth="309.0">
      <Label fx:id="lblStatus" alignment="CENTER" style="-fx-text-fill: #E74C3C; -fx-font-size: 13px; -fx-font-weight: bold;" wrapText="true" />
   </HBox>
   
   <!-- Help Section -->
   <VBox alignment="CENTER" maxHeight="-Infinity" maxWidth="380.0" minHeight="-Infinity" minWidth="-Infinity" prefHeight="103.0" prefWidth="377.0" spacing="8" style="-fx-background-color: #F7FAFC; -fx-background-radius: 12; -fx-padding: 15; -fx-border-color: #E2E8F0; -fx-border-radius: 12; -fx-border-width: 1;">
      
            <!-- Check Availability Button - Prominent Placement -->
      <Button fx:id="btnCheckAvailability" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" onAction="#handleCheckAvailability" prefHeight="38.0" prefWidth="190.0" style="-fx-background-color: linear-gradient(to right, #ED8936, #DD6B20); -fx-background-radius: 25; -fx-text-fill: white; -fx-font-size: 10px; -fx-font-weight: bold; -fx-padding: 12 30 12 30; -fx-cursor: hand;" text="Check Parking Availability">
         <effect>
            <DropShadow color="#ED893640" offsetY="3" radius="12" spread="0.3" />
         </effect>
      </Button>
      <HBox alignment="CENTER" spacing="8">
         <Label style="-fx-text-fill: #4A5568; -fx-font-size: 13px; -fx-font-weight: bold;" text="First time user?" />
      </HBox>
      <Label style="-fx-text-fill: #718096; -fx-font-size: 12px;" text="Contact your administrator for login credentials" textAlignment="CENTER" wrapText="true" />
   </VBox>
   
   <!-- Footer -->
   <VBox alignment="CENTER" spacing="5">
      <Separator prefWidth="250.0" style="-fx-background-color: linear-gradient(to right, transparent, #CBD5E0, transparent);" />
      <HBox alignment="CENTER" spacing="8">
         <Label style="-fx-font-size: 12px; -fx-text-fill: #718096;" text="📧" />
         <Label style="-fx-text-fill: #718096; -fx-font-size: 11px;" text="Need help? Contact support@bpark.com" />
      </HBox>
      <Label style="-fx-text-fill: #A0AEC0; -fx-font-size: 10px;" text="© 2025 BPark - All rights reserved" />
   </VBox>
   <TextField fx:id="txtServerIP" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="0.0" prefWidth="0.0" style="-fx-background-color: #F7FAFC; -fx-background-radius: 10; -fx-border-color: #E2E8F0; -fx-border-radius: 10; -fx-border-width: 1; -fx-padding: 10 15 10 15; -fx-font-size: 14px; -fx-text-fill: #2D3748;" text="localhost" />
   
</VBox>
