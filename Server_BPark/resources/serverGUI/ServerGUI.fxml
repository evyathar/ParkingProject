<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<VBox alignment="TOP_CENTER" prefHeight="500" prefWidth="600" spacing="15" style="-fx-background-color: linear-gradient(to bottom right, #F5F7FA, #E9ECEF);" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="serverGUI.ServerPortFrame">
    
    <padding>
        <Insets bottom="20.0" left="25.0" right="25.0" top="20.0" />
    </padding>
   <ImageView fitHeight="67.0" fitWidth="544.0">
      <image>
         <Image url="@../images/bpark.png" />
      </image>
   </ImageView>

    <!-- Compact Server Status Card -->
    <VBox alignment="CENTER" maxWidth="550" spacing="15" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 20;">
        <effect>
            <DropShadow color="#0000001A" offsetY="3" radius="15" spread="0.1" />
        </effect>

        <!-- Status Header -->
        <HBox alignment="CENTER" spacing="12">
            <Label style="-fx-text-fill: #2D3748; -fx-font-size: 18px; -fx-font-weight: bold;" text="Server Dashboard" />
            <HBox alignment="CENTER" spacing="4" style="-fx-background-color: #4CAF50; -fx-background-radius: 15; -fx-padding: 3 12 3 12;">
                <Circle fill="#FFFFFF" radius="4">
                    <effect>
                        <DropShadow color="#4CAF50" radius="6" spread="0.8" />
                    </effect>
                </Circle>
                <Label style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;" text="ONLINE" />
            </HBox>
        </HBox>

        <!-- Compact Status Grid -->
        <GridPane alignment="CENTER" hgap="20" vgap="15">
            <columnConstraints>
                <ColumnConstraints halignment="CENTER" minWidth="40" prefWidth="40" />
                <ColumnConstraints halignment="RIGHT" minWidth="100" prefWidth="100" />
                <ColumnConstraints minWidth="240" prefWidth="240" />
            </columnConstraints>

            <!-- IP Address Row -->
            <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to bottom right, #3B5CAD, #4A69BD); -fx-background-radius: 10; -fx-padding: 8;" GridPane.columnIndex="0" GridPane.rowIndex="0">
                <Label style="-fx-font-size: 16px; -fx-text-fill: white;" text="ðŸŒ" />
            </HBox>
            <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px;" text="Server IP:" GridPane.columnIndex="1" GridPane.rowIndex="0" />
            <TextField fx:id="serverip" editable="false" promptText="Waiting for connection..." style="-fx-background-color: #F7FAFC; -fx-background-radius: 8; -fx-border-color: #E2E8F0; -fx-border-radius: 8; -fx-border-width: 1; -fx-text-fill: #2D3748; -fx-font-size: 13px; -fx-padding: 8 12 8 12;" GridPane.columnIndex="2" GridPane.rowIndex="0" />

            <!-- Status Message Row -->
            <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to bottom right, #4CAF50, #45B147); -fx-background-radius: 10; -fx-padding: 8;" GridPane.columnIndex="0" GridPane.rowIndex="1">
                <Label style="-fx-font-size: 16px; -fx-text-fill: white;" text="ðŸ“Š" />
            </HBox>
            <Label style="-fx-text-fill: #4A5568; -fx-font-size: 14px;" text="Status:" GridPane.columnIndex="1" GridPane.rowIndex="1" />
            <TextField fx:id="textMessage" editable="false" promptText="Server status will appear here..." style="-fx-background-color: #F7FAFC; -fx-background-radius: 8; -fx-border-color: #E2E8F0; -fx-border-radius: 8; -fx-border-width: 1; -fx-text-fill: #2D3748; -fx-font-size: 13px; -fx-padding: 8 12 8 12;" GridPane.columnIndex="2" GridPane.rowIndex="1" />
         <rowConstraints>
            <RowConstraints />
            <RowConstraints />
         </rowConstraints>
        </GridPane>

        <!-- Control Button -->
        <HBox alignment="CENTER" spacing="15">
            <padding>
                <Insets top="5.0" />
            </padding>
            <Button fx:id="btnExit" onAction="#getExitBtn" prefHeight="44.0" prefWidth="204.0" style="-fx-background-color: linear-gradient(to right, #F56565, #E53E3E); -fx-background-radius: 20; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 12 30 12 30; -fx-cursor: hand;" text="â»  Shutdown Server">
                <effect>
                    <DropShadow color="#F5656540" offsetY="2" radius="12" spread="0.3" />
                </effect>
            </Button>
        </HBox>
    </VBox>

    <!-- Compact Client Connections Card -->
    <VBox alignment="CENTER" maxWidth="550" spacing="12" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15;" VBox.vgrow="ALWAYS">
        <effect>
            <DropShadow color="#0000001A" offsetY="3" radius="15" spread="0.1" />
        </effect>
        
        <!-- Header -->
        <HBox alignment="CENTER" spacing="10">
            <HBox alignment="CENTER" style="-fx-background-color: linear-gradient(to bottom right, #3B5CAD, #4A69BD); -fx-background-radius: 10; -fx-padding: 8;">
                <Label style="-fx-font-size: 18px; -fx-text-fill: white;" text="ðŸ‘¥" />
            </HBox>
            <Label style="-fx-text-fill: #2D3748; -fx-font-size: 18px; -fx-font-weight: bold;" text="Active Connections" />
        </HBox>

        <!-- Compact Connection Monitor -->
        <VBox alignment="CENTER" spacing="10" style="-fx-background-color: #F7FAFC; -fx-background-radius: 12; -fx-padding: 12; -fx-border-color: #E2E8F0; -fx-border-radius: 12; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
            
            <TextArea fx:id="txtClientConnection" editable="false" prefHeight="100.0" promptText="No active connections..." style="-fx-background-color: #FFFFFF; -fx-background-radius: 8; -fx-border-color: #CBD5E0; -fx-border-radius: 8; -fx-text-fill: #2D3748; -fx-font-family: 'Consolas', monospace; -fx-font-size: 12px; -fx-padding: 10;" wrapText="true" VBox.vgrow="ALWAYS" />
        </VBox>
    </VBox>

    <!-- Compact Footer -->
    <VBox alignment="CENTER" spacing="5">
        <Separator prefWidth="250.0" style="-fx-background-color: linear-gradient(to right, transparent, #CBD5E0, transparent);" />
        <HBox alignment="CENTER" spacing="6">
            <Label style="-fx-font-size: 12px; -fx-text-fill: #3B5CAD;" text="ðŸš—" />
            <Label style="-fx-text-fill: #3B5CAD; -fx-font-size: 11px; -fx-font-weight: bold;" text="bPark System v2.0" />
            <Label style="-fx-text-fill: #A0AEC0; -fx-font-size: 10px;" text="â€¢" />
            <Label style="-fx-text-fill: #A0AEC0; -fx-font-size: 10px;" text="Â© 2024 bPark Technologies" />
        </HBox>
    </VBox>
</VBox>
